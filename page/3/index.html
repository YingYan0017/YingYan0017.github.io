<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Loloooo">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Loloooo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="lolo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Loloooo</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Loloooo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">lolo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">25</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/02/21/dlyk-part2-front-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lolo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Loloooo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Loloooo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/21/dlyk-part2-front-2/" class="post-title-link" itemprop="url">dlyk-part2-front-2</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-02-21 14:51:41" itemprop="dateCreated datePublished" datetime="2024-02-21T14:51:41+08:00">2024-02-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-03-11 16:50:47" itemprop="dateModified" datetime="2024-03-11T16:50:47+08:00">2024-03-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">Java项目</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java%E9%A1%B9%E7%9B%AE/%E5%8A%A8%E5%8A%9B%E4%BA%91%E5%AE%A2/" itemprop="url" rel="index"><span itemprop="name">动力云客</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="这个主要是登录页面后端项目，包括一些基础的搭建工作"><a href="#这个主要是登录页面后端项目，包括一些基础的搭建工作" class="headerlink" title="这个主要是登录页面后端项目，包括一些基础的搭建工作"></a>这个主要是登录页面后端项目，包括一些基础的搭建工作</h1><h2 id="一、项目分层"><a href="#一、项目分层" class="headerlink" title="一、项目分层"></a>一、项目分层</h2><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222121622494.png" alt="image-20240222121622494"></p>
<p>这个就是最常见的，这张图来自于阿里规范</p>
<ol>
<li><p>终端显示层：Vue</p>
</li>
<li><p>开放接口：给其他公司调用</p>
</li>
<li><p>请求处理层：web层</p>
</li>
</ol>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222130745201.png" alt="image-20240222130745201"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">3. 【参考】分层领域模型规约：</span><br><span class="line">• DO（Data Object）：此对象与数据库表结构一一对应，通过 DAO 层向上传输数据源对象。</span><br><span class="line">这个do对应的就是项目中的model</span><br><span class="line"></span><br><span class="line">• DTO（Data Transfer Object）：数据传输对象，Service 或 Manager 向外传输的对象。</span><br><span class="line">相当于是service和manager层，但是在项目中没有使用</span><br><span class="line"></span><br><span class="line">• BO（Business Object）：业务对象，可以由 Service 层输出的封装业务逻辑的对象。</span><br><span class="line">没有使用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">• Query：数据查询对象，各层接收上层的查询请求。注意超过 2 个参数的查询封装，禁止使用 Map 类来传输。</span><br><span class="line">controller -&gt;service-&gt;manager-&gt;DO 传参数，这个参数是用query来封装的</span><br><span class="line"></span><br><span class="line">• VO（View Object）：显示层对象，通常是 Web 向模板渲染引擎层传输的对象。</span><br><span class="line">等价于result的我们的R对象</span><br></pre></td></tr></table></figure>



<h4 id="step1：按照上图构建文件目录"><a href="#step1：按照上图构建文件目录" class="headerlink" title="step1：按照上图构建文件目录"></a>step1：按照上图构建文件目录</h4><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222130603666.png" alt="image-20240222130603666"></p>
<p>在result里面加入封装的代码</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222132938591.png" alt="image-20240222132938591"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.result;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 统一封装web层向前端页面返回的结果</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">R</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//表示返回的结果码，比如200成功，500失败</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//表示返回的结果信息，比如 用户登录状态失效了，请求参数格式有误.......</span></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//表示返回的结果数据，数据可能是一个对象，也可以是一个List集合.....</span></span><br><span class="line">    <span class="keyword">private</span> Object data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">OK</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.builder()</span><br><span class="line">                .code(CodeEnum.OK.getCode())</span><br><span class="line">                .msg(CodeEnum.OK.getMsg())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">OK</span><span class="params">(<span class="type">int</span> code, String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.builder()</span><br><span class="line">                .code(code)</span><br><span class="line">                .msg(msg)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">OK</span><span class="params">(Object data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.builder()</span><br><span class="line">                .code(CodeEnum.OK.getCode())</span><br><span class="line">                .msg(CodeEnum.OK.getMsg())</span><br><span class="line">                .data(data)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">OK</span><span class="params">(CodeEnum codeEnum)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.builder()</span><br><span class="line">                .code(CodeEnum.OK.getCode())</span><br><span class="line">                .msg(codeEnum.getMsg())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">FAIL</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.builder()</span><br><span class="line">                .code(CodeEnum.FAIL.getCode())</span><br><span class="line">                .msg(CodeEnum.FAIL.getMsg())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">FAIL</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.builder()</span><br><span class="line">                .code(CodeEnum.FAIL.getCode())</span><br><span class="line">                .msg(msg)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">FAIL</span><span class="params">(CodeEnum codeEnum)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.builder()</span><br><span class="line">                .code(codeEnum.getCode())</span><br><span class="line">                .msg(codeEnum.getMsg())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222133207911.png" alt="image-20240222133207911"></p>
<p>传参数是统统都用query来传输</p>
<h4 id="step2：后端登录代码实现"><a href="#step2：后端登录代码实现" class="headerlink" title="step2：后端登录代码实现"></a>step2：后端登录代码实现</h4><p>后台提供一个spring security的接口</p>
<h4 id="（1）创建UserService层"><a href="#（1）创建UserService层" class="headerlink" title="（1）创建UserService层"></a>（1）创建UserService层</h4><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222133807376.png" alt="image-20240222133807376"></p>
<h4 id="（2）extends-UserDetailsService"><a href="#（2）extends-UserDetailsService" class="headerlink" title="（2）extends UserDetailsService"></a>（2）extends UserDetailsService</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> <span class="keyword">extends</span> <span class="title class_">UserDetailsService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>UserDetailsService 里面有关于数据库查找的一些相关的内容</p>
<h4 id="（3）写（2）接口的实现"><a href="#（3）写（2）接口的实现" class="headerlink" title="（3）写（2）接口的实现"></a>（3）写（2）接口的实现</h4><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222134110834.png" alt="image-20240222134110834"></p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222134241729.png" alt="image-20240222134241729"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetails;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UsernameNotFoundException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> UserDetails <span class="title function_">loadUserByUsername</span><span class="params">(String username)</span> <span class="keyword">throws</span> UsernameNotFoundException &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注入 Mapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> TUserMapper tUserMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> UserDetails <span class="title function_">loadUserByUsername</span><span class="params">(String username)</span> <span class="keyword">throws</span> UsernameNotFoundException &#123;</span><br><span class="line">        <span class="type">TUser</span> <span class="variable">tUser</span> <span class="operator">=</span> tUserMapper.selectByLoginAct(username);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (tUser == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UsernameNotFoundException</span>(<span class="string">&quot;登录账号不存在！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        按照username查找对象，返回一个TUser对象</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;selectByLoginAct没有实现&#x3D;&#x3D;，所以需要去实现一下</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222134902977.png" alt="image-20240222134902977"></p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222135129842.png" alt="image-20240222135129842"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByLoginAct&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;java.lang.String&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">  select</span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;Base_Column_List&quot;</span> /&gt;</span></span><br><span class="line">  from t_user</span><br><span class="line">  where login_act = #&#123;username,jdbcType=VARCHAR&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;这样就完成了，相当于定义一个函数（这个函数要进行的是一些sql命令），然后去xml中实现这个函数&#x3D;&#x3D;</p>
<h4 id="（4）改写return的内容"><a href="#（4）改写return的内容" class="headerlink" title="（4）改写return的内容"></a>（4）改写return的内容</h4><blockquote>
<p>关于UserDeitails接口，详见</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_22078107/article/details/106654924">【详解】Spring Security的GrantedAuthority（已授予的权限）_org.springframework.security.core.grantedauthority-CSDN博客</a></p>
</blockquote>
<p>&#x3D;&#x3D;getAuthorities()方法将返回此用户的所拥有的权限。这个集合将用于用户的访问控制，也就是Authorization。&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;<strong>所谓权限，就是一个字符串。一般不会重复。</strong>&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;<strong>所谓权限检查，就是查看用户权限列表中是否含有匹配的字符串。</strong>&#x3D;&#x3D;</p>
<p>之后学习Spring Security</p>
<h5 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1. 准备工作"></a>1. 准备工作</h5><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222135527190.png" alt="image-20240222135527190"></p>
<p>这个return按理来说是需要返回一个UserDetails的对象，但是现在是只有一个函数返回的tUser 的对象，所以我们需要去TUser.java处去实现这个接口。如下图所示：</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222135713974.png" alt="image-20240222135713974"></p>
<p>注意，在UserDetails这个接口中存在7个方法，所以我们需要在TUser中把这7个方法全部都实现了。</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222135807457.png" alt="image-20240222135807457"></p>
<p>在TUser.java处 快捷键alt+insert，把所有的接口函数导入一下</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222140250334.png" alt="image-20240222140250334"></p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222140327393.png" alt="image-20240222140327393"></p>
<h5 id="2-编写实现"><a href="#2-编写实现" class="headerlink" title="2. 编写实现"></a>2. 编写实现</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    *********************************实现UserDetails的七个方法**************************************************</span></span><br><span class="line"><span class="comment">//    这个是角色list</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; permissionList;</span><br><span class="line"><span class="comment">//    权限标识符list</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; roleList;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Collection&lt;? <span class="keyword">extends</span> <span class="title class_">GrantedAuthority</span>&gt; getAuthorities() &#123;</span><br><span class="line"><span class="comment">//        先定义一个list 用来返回得到的角色对象</span></span><br><span class="line">        List&lt;GrantedAuthority&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得角色list,forEach遍历，遍历得到list的每个对象是role，然后将这个role add到list中</span></span><br><span class="line">        <span class="built_in">this</span>.getRoleList().forEach(role -&gt;&#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> <span class="title class_">SimpleGrantedAuthority</span>(role));</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="comment">//获得权限标识符</span></span><br><span class="line">        <span class="built_in">this</span>.getPermissionList().forEach(permission -&gt;&#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> <span class="title class_">SimpleGrantedAuthority</span>(permission));</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getPassword();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getUsername();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAccountNonExpired</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">//        这个是账号有无过期，这是这个项目的数据库表的设计 ，数据库里个字段，保证可行就是没有过期</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getAccountNoExpired()==<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAccountNonLocked</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getAccountNoLocked()==<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isCredentialsNonExpired</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getCredentialsNoExpired()==<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEnabled</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getAccountEnabled()==<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-生成jwt-，忽略，全部-JsonIgnore"><a href="#3-生成jwt-，忽略，全部-JsonIgnore" class="headerlink" title="3.生成jwt ，忽略，全部+@JsonIgnore"></a>3.生成jwt ，忽略，全部+@JsonIgnore</h5><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222142026445.png" alt="image-20240222142026445"></p>
<p>不把返回值字段当成js字段</p>
<h5 id="4-完成-到UserServiceImpl-java处，return-tUser"><a href="#4-完成-到UserServiceImpl-java处，return-tUser" class="headerlink" title="4.完成 到UserServiceImpl.java处，return tUser"></a>4.完成 到UserServiceImpl.java处，return tUser</h5><h5 id="5-写一个配置类"><a href="#5-写一个配置类" class="headerlink" title="5.写一个配置类"></a>5.写一个配置类</h5><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222142430458.png" alt="image-20240222142430458"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">securityFilterChain</span><span class="params">(HttpSecurity httpSecurity, CorsConfigurationSource configurationSource)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//禁用跨站请求伪造</span></span><br><span class="line">        <span class="keyword">return</span> httpSecurity</span><br><span class="line"><span class="comment">//                链式编程，这边是要做一个登录</span></span><br><span class="line">                .formLogin( (formLogin) -&gt; &#123;</span><br><span class="line">                    formLogin.loginProcessingUrl(Constants.LOGIN_URI) <span class="comment">//登录处理地址，不需要写Controller</span></span><br><span class="line">                            .usernameParameter(<span class="string">&quot;loginAct&quot;</span>)</span><br><span class="line">                            .passwordParameter(<span class="string">&quot;loginPwd&quot;</span>)</span><br><span class="line"><span class="comment">//                            以上是登录，如果登录成功了，就要返回一个结果</span></span><br><span class="line">                            .successHandler(myAuthenticationSuccessHandler)</span><br><span class="line"><span class="comment">//                            如果失败了也要返回结果</span></span><br><span class="line">                            .failureHandler(myAuthenticationFailureHandler);</span><br><span class="line">                &#125;)</span><br><span class="line"><span class="comment">//                以上的handle是直接用的别的，之后如需要详细了解，再研究</span></span><br><span class="line"><span class="comment">//需要对于请求拦截</span></span><br><span class="line">                .authorizeHttpRequests( (authorize) -&gt; &#123;</span><br><span class="line">                    authorize.requestMatchers(<span class="string">&quot;/api/login&quot;</span>).permitAll()</span><br><span class="line">                            .anyRequest().authenticated(); <span class="comment">//其它任何请求都需要登录后才能访问</span></span><br><span class="line">                &#125;)</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;里面用到了一些handler的一些文件，直接用的，需要进一步学习&#x3D;&#x3D;</p>
<p>因为用到了这些，所以需要注入一下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> MyAuthenticationSuccessHandler myAuthenticationSuccessHandler;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> MyAuthenticationFailureHandler myAuthenticationFailureHandler;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> MyLogoutSuccessHandler myLogoutSuccessHandler;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> MyAccessDeniedHandler myAccessDeniedHandler;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>因为是外面复制进来的，所以需要改写一下：</p>
<p>（在com.bjpowernode目录下创建package util，在里面加入JSONUtils工具类、ResponseUtils。）</p>
<p><strong>MyAuthenticationSuccessHandler</strong>：</p>
<blockquote>
<p>就是成功后需要做什么事情</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Component</span><br><span class="line">public class MyAuthenticationSuccessHandler implements AuthenticationSuccessHandler &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException &#123;</span><br><span class="line">        //通过request、response，得到authentication 登录成功后的用户信息</span><br><span class="line">        // 登录成功，执行该方法，在该方法中返回json给前端，就行了</span><br><span class="line">        TUser tUser = (TUser) authentication.getPrincipal();</span><br><span class="line"></span><br><span class="line">        //登录成功，用户信息返回前台</span><br><span class="line">        R result = R.OK(tUser);</span><br><span class="line"></span><br><span class="line">        //把R对象转成json</span><br><span class="line">        String resultJSON = JSONUtils.toJSON(result);</span><br><span class="line"></span><br><span class="line">        //把R以json返回给前端</span><br><span class="line">        ResponseUtils.write(response, resultJSON);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6-完成最简单的实现"><a href="#6-完成最简单的实现" class="headerlink" title="6.完成最简单的实现"></a>6.完成最简单的实现</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">securityFilterChain</span><span class="params">(HttpSecurity httpSecurity, CorsConfigurationSource configurationSource)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//禁用跨站请求伪造</span></span><br><span class="line">        <span class="keyword">return</span> httpSecurity</span><br><span class="line"><span class="comment">//                链式编程，这边是要做一个登录</span></span><br><span class="line">                .formLogin( (formLogin) -&gt; &#123;</span><br><span class="line">                    formLogin.loginProcessingUrl(<span class="string">&quot;/api/login&quot;</span>) <span class="comment">//登录处理地址，不需要写Controller</span></span><br><span class="line">                            .usernameParameter(<span class="string">&quot;loginAct&quot;</span>)</span><br><span class="line">                            .passwordParameter(<span class="string">&quot;loginPwd&quot;</span>)</span><br><span class="line"><span class="comment">//                            以上是登录，如果登录成功了，就要返回一个结果</span></span><br><span class="line">                            .successHandler(myAuthenticationSuccessHandler)</span><br><span class="line"><span class="comment">//                            如果失败了也要返回结果</span></span><br><span class="line">                            .failureHandler(myAuthenticationFailureHandler);</span><br><span class="line">                &#125;)</span><br><span class="line"><span class="comment">//                以上的handle是直接用的别的，之后如需要详细了解，再研究</span></span><br><span class="line"><span class="comment">//需要对于请求拦截</span></span><br><span class="line">                .authorizeHttpRequests( (authorize) -&gt; &#123;</span><br><span class="line">                    authorize.requestMatchers(<span class="string">&quot;/api/login&quot;</span>).permitAll()</span><br><span class="line">                            .anyRequest().authenticated(); <span class="comment">//其它任何请求都需要登录后才能访问</span></span><br><span class="line">                &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h5 id="7-用Apifox验证是否成功"><a href="#7-用Apifox验证是否成功" class="headerlink" title="7.用Apifox验证是否成功"></a>7.用Apifox验证是否成功</h5><p> 使用网页版，如下操作</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222152059742.png" alt="image-20240222152059742"></p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222152137062.png" alt="image-20240222152137062"></p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222152456724.png" alt="image-20240222152456724"></p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222152604580.png" alt="image-20240222152604580"></p>
<p>最后选择开发环境</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222152626036.png" alt="image-20240222152626036"></p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222154805491.png" alt="image-20240222154805491"></p>
<h5 id="8-一些错误需要修改"><a href="#8-一些错误需要修改" class="headerlink" title="8. 一些错误需要修改"></a>8. 一些错误需要修改</h5><h6 id="a-密码加密了。所以需要注入一个-SecurityConfig"><a href="#a-密码加密了。所以需要注入一个-SecurityConfig" class="headerlink" title="a.密码加密了。所以需要注入一个&#x2F;&#x2F;SecurityConfig"></a>a.密码加密了。所以需要注入一个&#x2F;&#x2F;SecurityConfig</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span> <span class="comment">//There is no PasswordEncoder mapped for the id &quot;null&quot;</span></span><br><span class="line"><span class="keyword">public</span> PasswordEncoder <span class="title function_">passwordEncoder</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BCryptPasswordEncoder</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>细的需要再学习一下java se—</p>
<h6 id="b-需要排除一下list为空的问题-TUser-java"><a href="#b-需要排除一下list为空的问题-TUser-java" class="headerlink" title="b. 需要排除一下list为空的问题&#x2F;&#x2F;TUser.java"></a>b. 需要排除一下list为空的问题&#x2F;&#x2F;TUser.java</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonIgnore</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Collection&lt;? <span class="keyword">extends</span> <span class="title class_">GrantedAuthority</span>&gt; getAuthorities() &#123;</span><br><span class="line"><span class="comment">//        先定义一个list 用来返回得到的角色对象</span></span><br><span class="line">        List&lt;GrantedAuthority&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得角色list,forEach遍历，遍历得到list的每个对象是role，然后将这个role add到list中</span></span><br><span class="line">        <span class="keyword">if</span>(!ObjectUtils.isEmpty(<span class="built_in">this</span>.getRoleList()))&#123;</span><br><span class="line">            <span class="built_in">this</span>.getRoleList().forEach(role -&gt;&#123;</span><br><span class="line">                list.add(<span class="keyword">new</span> <span class="title class_">SimpleGrantedAuthority</span>(role));</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得权限标识符</span></span><br><span class="line">        <span class="keyword">if</span>(!ObjectUtils.isEmpty(<span class="built_in">this</span>.getPermissionList()))&#123;</span><br><span class="line">            <span class="built_in">this</span>.getPermissionList().forEach(permission -&gt;&#123;</span><br><span class="line">                list.add(<span class="keyword">new</span> <span class="title class_">SimpleGrantedAuthority</span>(permission));</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h5 id="9-前后端联通–-解决跨域问题"><a href="#9-前后端联通–-解决跨域问题" class="headerlink" title="9.前后端联通–&gt;解决跨域问题"></a>9.前后端联通–&gt;解决跨域问题</h5><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222203338737.png" alt="image-20240222203338737"></p>
<p>此时启动前后端系统，输入账号密码会出现这个错误，这个cors错误叫做跨域错误 </p>
<blockquote>
<p>跨域报错：Access to XMLHttpRequest at ‘<a target="_blank" rel="noopener" href="http://localhost:8089/api/login">http://localhost:8089/api/login</a>‘ from origin ‘<a target="_blank" rel="noopener" href="http://localhost:8081/">http://localhost:8081</a>‘ has been blocked by CORS policy；</p>
<p>跨域：</p>
<p>源头：<a target="_blank" rel="noopener" href="http://localhost:8081/">http://localhost:8081</a> 目的地：<a target="_blank" rel="noopener" href="http://localhost:8080/api">http://localhost:8089/api</a>&#x2F;login</p>
<p>1、协议不同， <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a>   <a target="_blank" rel="noopener" href="http://localhost:8080/">https://localhost:8080</a></p>
<p>2、域名不同， <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a>   <a target="_blank" rel="noopener" href="http://localhost:8080/">http://dlyk.bjpowernode.com:8080</a></p>
<p>3、端口不同  <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a>   <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8082</a></p>
<p>三个里面只要有任何一个不同就是跨域；</p>
</blockquote>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222203608653.png" alt="image-20240222203608653"></p>
<p><strong>&#x3D;&#x3D;如何解决！&#x3D;&#x3D;</strong></p>
<p>在<img src="/../blog_images/dlyk-part2-front-2/image-20240222203942321.png" alt="image-20240222203942321"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">securityFilterChain这个函数里面</span><br><span class="line">//支持跨域请求</span><br><span class="line">.cors( (cors) -&gt; &#123;</span><br><span class="line">    cors.configurationSource(configurationSource);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> CorsConfigurationSource <span class="title function_">configurationSource</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">CorsConfiguration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">    configuration.setAllowedOrigins(Arrays.asList(<span class="string">&quot;*&quot;</span>)); <span class="comment">//允许任何来源，http://localhost:8081</span></span><br><span class="line">    configuration.setAllowedMethods(Arrays.asList(<span class="string">&quot;*&quot;</span>)); <span class="comment">//允许任何请求方法，post、get、put、delete</span></span><br><span class="line">    configuration.setAllowedHeaders(Arrays.asList(<span class="string">&quot;*&quot;</span>)); <span class="comment">//允许任何的请求头</span></span><br><span class="line"></span><br><span class="line">    <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">    source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, configuration);</span><br><span class="line">    <span class="keyword">return</span> source;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>ctrl+h 看接口的几个实现</p>
<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222204459230.png" alt="image-20240222204459230"></p>
<h5 id="10-axios请求后返回的响应对象"><a href="#10-axios请求后返回的响应对象" class="headerlink" title="10.axios请求后返回的响应对象"></a>10.axios请求后返回的响应对象</h5><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222205748168.png" alt="image-20240222205748168"></p>
<p> 其中data就是后端springboot响应返回的那个R对象；</p>
<h4 id="11-修改前端接到后端返回数据后的操作"><a href="#11-修改前端接到后端返回数据后的操作" class="headerlink" title="11.修改前端接到后端返回数据后的操作"></a>11.修改前端接到后端返回数据后的操作</h4><h6 id="a-创建返回的util-因为后续可能很多地方都需要使用"><a href="#a-创建返回的util-因为后续可能很多地方都需要使用" class="headerlink" title="a.创建返回的util&#x2F;&#x2F;因为后续可能很多地方都需要使用"></a>a.创建返回的util&#x2F;&#x2F;因为后续可能很多地方都需要使用</h6><p><img src="/../blog_images/dlyk-part2-front-2/image-20240222210454177.png" alt="image-20240222210454177"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">messageTip</span>(<span class="params">msg, type</span>) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">        <span class="attr">showClose</span>: <span class="literal">true</span>, <span class="comment">//是否显示关闭按钮</span></span><br><span class="line">        <span class="attr">center</span>: <span class="literal">true</span>, <span class="comment">//文字是否居中</span></span><br><span class="line">        <span class="attr">duration</span>: <span class="number">3000</span>, <span class="comment">//显示时间，单位为毫秒</span></span><br><span class="line">        <span class="attr">message</span>: msg, <span class="comment">//提示的消息内容</span></span><br><span class="line">        <span class="attr">type</span>: type, <span class="comment">//消息类型：&#x27;success&#x27; | &#x27;warning&#x27; | &#x27;info&#x27; | &#x27;error&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="b-修改登录成功后返回的消息"><a href="#b-修改登录成功后返回的消息" class="headerlink" title="b.修改登录成功后返回的消息"></a>b.修改登录成功后返回的消息</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">//这个是loginvView.vue</span><br><span class="line">//比如一些消息提醒等</span><br><span class="line">methods: &#123;</span><br><span class="line">  //登录函数</span><br><span class="line">  login() &#123;</span><br><span class="line">    //提交前验证输入框的合法性</span><br><span class="line">    this.$refs.loginRefForm.validate( (isValid) =&gt; &#123;</span><br><span class="line">      //isValid是验证后的结果，如果是true表示验证通过，否则未通过</span><br><span class="line">      if (isValid) &#123;</span><br><span class="line">        //验证通过，可以提交登录</span><br><span class="line">        //这是个js对象，可用来传输数据，用键值对传输对象</span><br><span class="line">        let formData = new FormData();</span><br><span class="line">        formData.append(&quot;loginAct&quot;, this.user.loginAct);</span><br><span class="line">        formData.append(&quot;loginPwd&quot;, this.user.loginPwd);</span><br><span class="line">        formData.append(&quot;rememberMe&quot;, this.user.rememberMe);</span><br><span class="line"></span><br><span class="line">        doPost(&quot;/api/login&quot;, formData).then( (resp) =&gt; &#123;</span><br><span class="line">          //用了==&gt;才能使用this这个变量</span><br><span class="line">          console.log(resp);</span><br><span class="line">          if (resp.data.code === 200) &#123;</span><br><span class="line">            //登录成功，提示一下</span><br><span class="line">            messageTip(&quot;登录成功&quot;, &quot;success&quot;);</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            //登录失败，也提示一下</span><br><span class="line">            messageTip(&quot;登录失败&quot;, &quot;error&quot;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  //免登录（自动登录）</span><br><span class="line">  freeLogin() &#123;</span><br><span class="line">    let token = window.localStorage.getItem(getTokenName());</span><br><span class="line">    if (token) &#123; //表示token有值，token不是空，token存在</span><br><span class="line">      doGet(&quot;/api/login/free&quot;, &#123;&#125;).then(resp =&gt; &#123;</span><br><span class="line">        if (resp.data.code === 200)  &#123;</span><br><span class="line">          //token验证通过了，那么可以免登录</span><br><span class="line">          window.location.href = &quot;/dashboard&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="12-登录成功后跳转系统的主页面"><a href="#12-登录成功后跳转系统的主页面" class="headerlink" title="12.登录成功后跳转系统的主页面"></a>12.登录成功后跳转系统的主页面</h4><h5 id="a-跳转页面"><a href="#a-跳转页面" class="headerlink" title="a.跳转页面"></a>a.跳转页面</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.location.href = &quot;/dashboard&quot;;</span><br></pre></td></tr></table></figure>

<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222211409570.png" alt="image-20240222211409570"></p>
<h5 id="b-添加路由"><a href="#b-添加路由" class="headerlink" title="b.添加路由"></a>b.添加路由</h5><p>路由：就是vue访问的路径；</p>
<p>比如: &#x2F;</p>
<p>比如：&#x2F;dashboard</p>
<p>1、用npm命令安装路由</p>
<p>npm install vue-router –save</p>
<p>2、在src下面新建一个router文件夹，在router文件夹下新建一个router.js文件，在router.js文件里面写入以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从vue-router这个依赖库中导入createRouter()函数, createWebHistory()函数</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="comment">//定义一个变量</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="comment">//路由的历史，可以实现一些前进后退</span></span><br><span class="line">    <span class="attr">history</span>:<span class="title function_">createWebHistory</span>(),</span><br><span class="line">    <span class="comment">//p配置路由，里面可以配置多个路由，</span></span><br><span class="line">    <span class="comment">//路由就是vue访问的路径</span></span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//路由的路径</span></span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">            <span class="comment">//路由路径所对应的页面</span></span><br><span class="line">            component : <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../view/LoginView.vue&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/dashboard&#x27;</span>,</span><br><span class="line">            <span class="comment">//路由路径所对应的页面</span></span><br><span class="line">            component : <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../view/dashboard.vue&#x27;</span>),</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//这个是导出路由，导出之后才能用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222212744356.png" alt="image-20240222212744356"></p>
<h5 id="c-在使用路由时导入路由："><a href="#c-在使用路由时导入路由：" class="headerlink" title="c. 在使用路由时导入路由："></a>c. 在使用路由时导入路由：</h5><p>在main.js中导入：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router from <span class="string">&#x27;./router/router.js&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="d-在main-js中使用路由"><a href="#d-在main-js中使用路由" class="headerlink" title="d.在main.js中使用路由"></a>d.在main.js中使用路由</h5><p>app.use(router);</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span><span class="comment">//createApp这个是一个函数</span></span><br><span class="line"><span class="comment">//import &#x27;./style.css&#x27;</span></span><br><span class="line"><span class="comment">//import App from &#x27;./App.vue&#x27;//从一个单文件组件中导入根组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"><span class="comment">//从router.js导入组件</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/router.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> loginView <span class="keyword">from</span> <span class="string">&quot;./view/LoginView.vue&quot;</span>;</span><br><span class="line"><span class="title function_">createApp</span>(loginView).<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>).<span class="title function_">use</span>(router).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)<span class="comment">//创建一个vue对象//挂载到页面的#app这个id下</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="e-使用标签渲染路由地址所对应的页面组件；"><a href="#e-使用标签渲染路由地址所对应的页面组件；" class="headerlink" title="e. 使用&lt;router-view&#x2F;&gt;标签渲染路由地址所对应的页面组件；"></a>e. 使用&lt;router-view&#x2F;&gt;标签渲染路由地址所对应的页面组件；</h5><p>和上面的区别是导入了App ，且createApp(App)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span><span class="comment">//createApp这个是一个函数</span></span><br><span class="line"><span class="comment">//import &#x27;./style.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span><span class="comment">//从一个单文件组件中导入根组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"><span class="comment">//从router.js导入组件</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/router.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> loginView <span class="keyword">from</span> <span class="string">&quot;./view/LoginView.vue&quot;</span>;</span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>).<span class="title function_">use</span>(router).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)<span class="comment">//创建一个vue对象//挂载到页面的#app这个id下</span></span><br></pre></td></tr></table></figure>

<p><img src="/../blog_images/dlyk-part2-front-2/image-20240222213354364.png" alt="image-20240222213354364"></p>
<p>如果访问&#x2F;. ，那么就渲染LoginView.vue,如果是&#x2F;dashBoard，那么就渲染dashboard.vue</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/02/18/dlyk-part2-front-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lolo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Loloooo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Loloooo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/18/dlyk-part2-front-1/" class="post-title-link" itemprop="url">dlyk-part2-front-1</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-02-18 23:29:30" itemprop="dateCreated datePublished" datetime="2024-02-18T23:29:30+08:00">2024-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-02-22 12:14:50" itemprop="dateModified" datetime="2024-02-22T12:14:50+08:00">2024-02-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">Java项目</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java%E9%A1%B9%E7%9B%AE/%E5%8A%A8%E5%8A%9B%E4%BA%91%E5%AE%A2/" itemprop="url" rel="index"><span itemprop="name">动力云客</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h1><h2 id="一-、-登录界面"><a href="#一-、-登录界面" class="headerlink" title="一 、 登录界面"></a>一 、 登录界面</h2><h3 id="（1）用vite脚手架创建项目"><a href="#（1）用vite脚手架创建项目" class="headerlink" title="（1）用vite脚手架创建项目"></a>（1）用vite脚手架创建项目</h3><blockquote>
<p>工程化方式，采用脚手架工具创建一个vue工程，然后进行开发；（项目开发<strong>广泛</strong>使用）</p>
</blockquote>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240218233633476.png" alt="image-20240218233633476"></p>
<h3 id="（2）vue项目的工程结构说明"><a href="#（2）vue项目的工程结构说明" class="headerlink" title="（2）vue项目的工程结构说明"></a>（2）vue项目的工程结构说明</h3><p><img src="/../blog_images/dlyk-part2-front-1/image-20240218234826841.png" alt="image-20240218234826841"><img src="/../blog_images/dlyk-part2-front-1/image-20240219000847361.png" alt="image-20240219000847361"></p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240219000858770.png" alt="image-20240219000858770"></p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240219000912548.png" alt="image-20240219000912548"></p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240219000919973.png" alt="image-20240219000919973"></p>
<h2 id="（3）启动Vue项目工程"><a href="#（3）启动Vue项目工程" class="headerlink" title="（3）启动Vue项目工程"></a>（3）启动Vue项目工程</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以下是为了修改端口 之前的（老版本）vue端口占了8080，这里</span></span><br><span class="line">vite,config.<span class="property">js</span>:</span><br><span class="line"></span><br><span class="line"><span class="attr">server</span>:&#123;</span><br><span class="line">  <span class="attr">host</span>:<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">  <span class="attr">port</span>:<span class="number">8081</span>,</span><br><span class="line">  <span class="attr">open</span>:<span class="literal">true</span>,</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> dlyk_front</span><br><span class="line">npm install  或者  npm i</span><br><span class="line">npm run dev</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（4）开始Vue的项目开发"><a href="#（4）开始Vue的项目开发" class="headerlink" title="（4）开始Vue的项目开发"></a>（4）开始Vue的项目开发</h2><ul>
<li><h3 id="最基础的文件"><a href="#最基础的文件" class="headerlink" title="最基础的文件"></a>最基础的文件</h3><p>最基础的就是.vue文件，这个文件的就是vue界面，也成为vue组件，一般来说是分为三个部分：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. //&lt;template&gt; 这个里面写了一个html业面要展示的内容</span><br><span class="line"></span><br><span class="line">   //&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">2. //&lt;script&gt; 这个里面鞋的是javascript的代码</span><br><span class="line"></span><br><span class="line">   //&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">3. //&lt;style&gt; 这里写的是css的样式 </span><br></pre></td></tr></table></figure>


</li>
<li><h3 id="vue工程的运行流程分析"><a href="#vue工程的运行流程分析" class="headerlink" title="vue工程的运行流程分析"></a>vue工程的运行流程分析</h3><p>&#x3D;&#x3D;项目的运行入口：main.js&#x3D;&#x3D;</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; from <span class="string">&#x27;vue&#x27;</span><span class="comment">//createApp是函数</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App from <span class="string">&#x27;./App.vue&#x27;</span><span class="comment">//从一个单文件组件中导入根组件</span></span><br><span class="line"></span><br><span class="line">createApp(App)</span><br><span class="line">    .mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line">    <span class="comment">//利用导入的函数 创建一个vue应用</span></span><br><span class="line">    <span class="comment">//挂载到页面的#app这个id下，id在index.html&lt;div id=&#x27;app&#x27;&gt;</span></span><br><span class="line">    <span class="comment">//动态渲染在这个div里</span></span><br><span class="line">    <span class="comment">//运行一下，把运行的结果放在这个id的标签下</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="登录页面使用的技术"><a href="#登录页面使用的技术" class="headerlink" title="登录页面使用的技术"></a>登录页面使用的技术</h3><p>vue – controller - service – manager - mapper ( mysql、redis)</p>
<p>页面使用了element-plus进行页面开发；</p>
<h4 id="1-element-plus安装"><a href="#1-element-plus安装" class="headerlink" title="1. element plus安装"></a>1. element plus安装</h4></li>
</ul>
<blockquote>
<p>我们的项目，需要使用到一些页面的效果（表单、输入框、表格、按钮、布局、图标等等），我们采用的都是element-plus给我们提供的；</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、项目中要安装element-plus：</span><br><span class="line">npm install element-plus --save</span><br><span class="line">npm i element-plus --save</span><br><span class="line">-g 全局安装，安装到D:\course\tool\node-v20.9.0-win-x64\node_global</span><br><span class="line">--save表示安装包信息会写入package.json的dependencies中，在dependencies中，那么项目打包就会依赖到该模块；</span><br><span class="line">--save-dev上线不需要用，如果项目打包时不需要依赖该模块，那么就使用--save-dev，它会在devDependencies下，表示项目开发需要依赖该模块，项目打包发布就不需要它；</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2、导入element-plus"><a href="#2、导入element-plus" class="headerlink" title="2、导入element-plus"></a>2、导入element-plus</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在main.js中</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ElementPlus from <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="comment">//css不用 from</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"></span><br><span class="line">createApp(App).use(ElementPlus).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line">    <span class="comment">//挂载一定是最后一步</span></span><br></pre></td></tr></table></figure>

<h4 id="3-element提供的组件"><a href="#3-element提供的组件" class="headerlink" title="3. element提供的组件"></a>3. element提供的组件</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://element-plus.gitee.io/zh-CN/guide/design.html#%E4%B8%80%E8%87%B4-consistency">设计 | Element Plus (gitee.io)</a></p>
</blockquote>
<p>element-plus提供的组件：</p>
<p>1、Basic 基础组件</p>
<p>2、配置组件</p>
<p>3、Form 表单组件</p>
<p>4、Data 数据展示</p>
<p>5、Navigation 导航</p>
<p>6、Feedback 反馈组件</p>
<p>7、Others 其他</p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240219004142653.png" alt="image-20240219004142653"></p>
<h4 id="4-布局"><a href="#4-布局" class="headerlink" title="4. 布局"></a>4. 布局</h4><p> 这里是利用element实现最简单的左右布局，由于我们不弄前端，这个浅浅了解就行，无需非常深入</p>
<h5 id="step1：创建新vue-component"><a href="#step1：创建新vue-component" class="headerlink" title="step1：创建新vue component"></a>step1：创建新vue component</h5><blockquote>
<p>composition api:大项目 、推荐</p>
<p>options api ：初学者</p>
</blockquote>
<p>创建<img src="/../blog_images/dlyk-part2-front-1/image-20240219073424268.png" alt="image-20240219073424268"></p>
<h5 id="step2：界面"><a href="#step2：界面" class="headerlink" title="step2：界面"></a>step2：界面</h5><p>创建一个view文件夹 ，里面都是要写的一些页面 。</p>
<p>在view文件夹下面 创建LoginView.vue的页面，然后就开始编写。</p>
<p>去element ui的网站里面去复制格局和部件等等。</p>
<p>当要加入表单的时候，就是要从页面获取信息的时候，需要在script里加入一些设置</p>
<p>注意：</p>
<p>要在App.vue处增加内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; from <span class="string">&#x27;vue&#x27;</span><span class="comment">//createApp这个是一个函数</span></span><br><span class="line"><span class="comment">//import &#x27;./style.css&#x27;</span></span><br><span class="line"><span class="comment">//import App from &#x27;./App.vue&#x27;//从一个单文件组件中导入根组件</span></span><br><span class="line"><span class="keyword">import</span> ElementPlus from <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="keyword">import</span> loginView from <span class="string">&quot;./view/LoginView.vue&quot;</span>;</span><br><span class="line">createApp(loginView).use(ElementPlus).mount(<span class="string">&#x27;#app&#x27;</span>)<span class="comment">//创建一个vue对象//挂载到页面的#app这个id下</span></span><br><span class="line">    <span class="comment">//上面两句很重要</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!--    左侧--&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../assets/loginBox.svg&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;imgTitle&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        欢迎使用动力云客系统</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--    右侧--&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loginTile&quot;</span>&gt;</span>欢迎登录<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;loginRefForm&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;user&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;120px&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;loginRules&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;账号&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;loginAct&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;user.loginAct&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;密码&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;loginPwd&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;user.loginPwd&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;login&quot;</span>&gt;</span>登 录<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;记住我&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;user.rememberMe&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//定义页面使用到的变量，定义时初始值都是给个空的</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123;defineComponent&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;LoginView&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义页面使用到的变量，定义时初始值都是给个空的</span></span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//对象变量定义，是&#123;&#125;</span></span><br><span class="line">      user : &#123;&#125;,</span><br><span class="line">      <span class="comment">//字符串变量定义，是&#x27;&#x27;</span></span><br><span class="line">      name : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="comment">//数字变量定义，是0</span></span><br><span class="line">      age : <span class="number">0</span>,</span><br><span class="line">      <span class="comment">//数组变量定义，是[]</span></span><br><span class="line">      arr : [],</span><br><span class="line">      <span class="comment">//list集合对象(对象数组)，是[&#123;&#125;]</span></span><br><span class="line">      userList : [&#123;&#125;],</span><br><span class="line">      <span class="comment">//定义登录表单的验证规则</span></span><br><span class="line">      loginRules : &#123;</span><br><span class="line">        <span class="comment">//定义账号的验证规则，规则可以有多个，所以是数组</span></span><br><span class="line">        loginAct : [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入登录账号&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">//定义密码的验证规则，规则可以有多个，所以是数组</span></span><br><span class="line">        loginPwd : [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入登录密码&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">min</span>: <span class="number">6</span>, <span class="attr">max</span>: <span class="number">16</span>, <span class="attr">message</span>: <span class="string">&#x27;登录密码长度为6-16位&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="step3：表单验证"><a href="#step3：表单验证" class="headerlink" title="step3：表单验证"></a>step3：表单验证</h5><blockquote>
<p>（1）账号字段：loginAct （account）登录账号；</p>
<p>（2）密码字段：loginPwd （password）登录密码；</p>
<p>（3）是否记住我字段：rememberMe</p>
<p>需求：前端非空验证；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、在&lt;el-form&gt;里面定义一个:rules=&quot;rules&quot;；</span><br><span class="line">2、在要验证的el-input上的&lt;el-form-item&gt;中定义prop=xx 比如下面的loginAct和pwd， </span><br><span class="line">3、给要验证的字段定义验证规则；</span><br></pre></td></tr></table></figure>

<p>3、给要验证的字段定义验证规则；</p>
</blockquote>
<ol>
<li>在el-form头标签里面写：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form ref=<span class="string">&quot;loginRefForm&quot;</span> :model=<span class="string">&quot;user&quot;</span> label-width=<span class="string">&quot;120px&quot;</span> :rules=<span class="string">&quot;loginRules&quot;</span>&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;账号&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;loginAct&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;user.loginAct&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;密码&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;loginPwd&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;user.loginPwd&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line">	这里是增加了一个点击事件</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          <span class="language-xml"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;login&quot;</span>&gt;</span>登 录<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line"></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;记住我&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;user.rememberMe&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line">      &lt;/el-form&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>需要在script里面</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123;defineComponent&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;LoginView&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义页面使用到的变量，定义时初始值都是给个空的</span></span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//对象变量定义，是&#123;&#125;</span></span><br><span class="line">      user : &#123;&#125;,</span><br><span class="line">      <span class="comment">//字符串变量定义，是&#x27;&#x27;</span></span><br><span class="line">      name : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="comment">//数字变量定义，是0</span></span><br><span class="line">      age : <span class="number">0</span>,</span><br><span class="line">      <span class="comment">//数组变量定义，是[]</span></span><br><span class="line">      arr : [],</span><br><span class="line">      <span class="comment">//list集合对象(对象数组)，是[&#123;&#125;]</span></span><br><span class="line">      userList : [&#123;&#125;],</span><br><span class="line">      <span class="comment">//定义登录表单的验证规则</span></span><br><span class="line">      loginRules : &#123;</span><br><span class="line">        <span class="comment">//定义账号的验证规则，规则可以有多个，所以是数组</span></span><br><span class="line">        loginAct : [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入登录账号&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">//定义密码的验证规则，规则可以有多个，所以是数组</span></span><br><span class="line">        loginPwd : [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入登录密码&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">min</span>: <span class="number">6</span>, <span class="attr">max</span>: <span class="number">16</span>, <span class="attr">message</span>: <span class="string">&#x27;登录密码长度为6-16位&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>需要加入这个属性</p>
<p>ref&#x3D;”loginRefForm”   </p>
<p>表示在提交之前 需要执行一下规则</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form ref=&quot;loginRefForm&quot; :model=&quot;user&quot; label-width=&quot;120px&quot; :rules=&quot;loginRules&quot;&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/../blog_images/dlyk-part2-front-1/image-20240221130953823.png" alt="image-20240221130953823"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">loginRefForm</span>.<span class="title function_">validate</span>( <span class="function">(<span class="params">isValid</span>) =&gt;</span> &#123;</span><br></pre></td></tr></table></figure>

<p>这个会调用:rules&#x3D;”loginRules”规则 ，然后得到一个返回值，就是一个验证之后的结果。</p>
<p>如果是true 表示验证通过</p>
<p>​	验证通过后 ，就表示要提交了。axios 。ajax</p>
<p>反之表示没通过</p>
<h5 id="step4-使用axios-封装"><a href="#step4-使用axios-封装" class="headerlink" title="step4: 使用axios &#x2F;&#x2F;封装"></a>step4: 使用axios &#x2F;&#x2F;封装</h5><p>主要就是封装4个方法；</p>
<p>doGet() 查询</p>
<p>doPost() 新增</p>
<p>doPut() 修改</p>
<p>doDelete() 删除</p>
<ol>
<li>创建文件与文件夹</li>
</ol>
<p>  <img src="/../blog_images/dlyk-part2-front-1/image-20240221140148575.png" alt="image-20240221140148575"></p>
<ol start="2">
<li><p>封装函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 原本这个函数是只有function 但是因为要在别的页面上使用，所以就加上了一个export，这里导出</span></span><br><span class="line"><span class="comment">//那边导入</span></span><br><span class="line"><span class="comment">// 从这个框架导入组件</span></span><br><span class="line"><span class="keyword">import</span> axios from <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line">export function <span class="title function_">doGet</span><span class="params">(url ,params)</span>&#123;</span><br><span class="line">    axios(&#123;</span><br><span class="line">        method: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">        url: url,</span><br><span class="line">        params: params, <span class="comment">//&#123;name: &quot;对的&quot;, age: 22&#125;,</span></span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span></span><br><span class="line">    &#125;).then(function (rep)&#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">s</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">        reo.data.forEach(function (stu)&#123;</span><br><span class="line">            s += stu.name + <span class="string">&quot;-------------------&quot;</span>+stu.age+<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        document.getElementById(<span class="string">&quot;mydiv&quot;</span>).innerHTML = s;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function <span class="title function_">doPost</span><span class="params">(url,data )</span>&#123;</span><br><span class="line">    axios(&#123;</span><br><span class="line">        method: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">        url: url,</span><br><span class="line">        data: data, <span class="comment">//&#123;name: &quot;对的&quot;, age: 22&#125;,</span></span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span></span><br><span class="line">    &#125;).then(function (rep)&#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">s</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">        reo.data.forEach(function (stu)&#123;</span><br><span class="line">            s += stu.name + <span class="string">&quot;-------------------&quot;</span>+stu.age+<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        document.getElementById(<span class="string">&quot;mydiv&quot;</span>).innerHTML = s;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">export function <span class="title function_">doPut</span><span class="params">(url,data )</span>&#123;</span><br><span class="line">    axios(&#123;</span><br><span class="line">        method: <span class="string">&quot;put&quot;</span>,</span><br><span class="line">        url: url,</span><br><span class="line">        data: data, <span class="comment">//&#123;name: &quot;对的&quot;, age: 22&#125;,</span></span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span></span><br><span class="line">    &#125;).then(function (rep)&#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">s</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">        reo.data.forEach(function (stu)&#123;</span><br><span class="line">            s += stu.name + <span class="string">&quot;-------------------&quot;</span>+stu.age+<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        document.getElementById(<span class="string">&quot;mydiv&quot;</span>).innerHTML = s;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">export function <span class="title function_">doDelete</span><span class="params">(url ,params)</span>&#123;</span><br><span class="line">    axios(&#123;</span><br><span class="line">        method: <span class="string">&quot;Delete&quot;</span>,</span><br><span class="line">        url: url,</span><br><span class="line">        params: params, <span class="comment">//&#123;name: &quot;对的&quot;, age: 22&#125;,</span></span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span></span><br><span class="line">    &#125;).then(function (rep)&#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">s</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">        reo.data.forEach(function (stu)&#123;</span><br><span class="line">            s += stu.name + <span class="string">&quot;-------------------&quot;</span>+stu.age+<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        document.getElementById(<span class="string">&quot;mydiv&quot;</span>).innerHTML = s;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="step4-使用axios-封装-1"><a href="#step4-使用axios-封装-1" class="headerlink" title="step4: 使用axios &#x2F;&#x2F;封装"></a>step4: 使用axios &#x2F;&#x2F;封装</h5><blockquote>
<p>一般提交是使用一个表单，然后用put提交，也可以用get 但是一般用put</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在httpRequest.js开始处</span><br><span class="line"><span class="comment">//定义端口的地址，默认地址前缀，</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">&quot;http://localhost:8089&quot;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="（5）动力云客后端项目创建"><a href="#（5）动力云客后端项目创建" class="headerlink" title="（5）动力云客后端项目创建"></a>（5）动力云客后端项目创建</h2><p><img src="/../blog_images/dlyk-part2-front-1/image-20240221145546841.png" alt="image-20240221145546841"></p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240221150859764.png" alt="image-20240221150859764"><img src="/../blog_images/dlyk-part2-front-1/image-20240221150910929.png" alt="image-20240221150910929"></p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240221150924045.png" alt="image-20240221150924045"></p>
<h2 id="（6）编写yml配置文件"><a href="#（6）编写yml配置文件" class="headerlink" title="（6）编写yml配置文件"></a>（6）编写yml配置文件</h2><p>进入<img src="/../blog_images/dlyk-part2-front-1/image-20240222102204105.png" alt="image-20240222102204105"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: <span class="number">8089</span><span class="comment">//端口 这里改成了8089</span></span><br><span class="line">  servlet:</span><br><span class="line">    context-path: /</span><br><span class="line"></span><br><span class="line">#配置数据库连接相关信息</span><br><span class="line">spring:</span><br><span class="line">  datasource:</span><br><span class="line">    url: jdbc:mysql:<span class="comment">//localhost:3306/dlyk?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false//这里是链接数据库</span></span><br><span class="line">    driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">    username: root</span><br><span class="line">    password: <span class="number">123456</span></span><br><span class="line">    hikari:</span><br><span class="line">      #最大连接数，默认是<span class="number">10</span></span><br><span class="line">      maximum-pool-size: <span class="number">30</span></span><br><span class="line">      #最小空闲连接，默认是<span class="number">10</span></span><br><span class="line">      minimum-idle: <span class="number">30</span></span><br><span class="line">      #等待连接池分配连接的最大时长，超过该时长还没有可用连接则发生超时异常（单位毫秒）</span><br><span class="line">      connection-timeout: <span class="number">5000</span></span><br><span class="line">      #空闲连接的最大时长，空闲多久就被释放回收，设置为<span class="number">0</span>不让连接回收</span><br><span class="line">      idle-timeout: <span class="number">0</span></span><br><span class="line">      #一个连接的最大生命时间，超过该时间还没有使用就回收掉（单位毫秒），最好不要超过<span class="number">8</span>小时</span><br><span class="line">      max-lifetime: <span class="number">18000000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  #配置redis的连接信息</span><br><span class="line">  data:</span><br><span class="line">    redis:</span><br><span class="line">      host: <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="comment">//redis的host 要去看redis的配置。</span></span><br><span class="line">      port: <span class="number">6379</span></span><br><span class="line">      password: <span class="number">123456</span></span><br><span class="line">      database: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  #设置jackson返回json数据时，时区和格式</span><br><span class="line">  jackson:</span><br><span class="line">    time-zone: GMT+<span class="number">8</span></span><br><span class="line">    date-format: yyyy-MM-dd HH:mm:ss</span><br><span class="line"></span><br><span class="line">#指定一下mapper.xml文件的位置</span><br><span class="line">mybatis:</span><br><span class="line">  mapper-locations: classpath:mapper<span class="comment">/*.xml</span></span><br><span class="line"><span class="comment">  configuration:</span></span><br><span class="line"><span class="comment">    #在控制台打印sql语句</span></span><br><span class="line"><span class="comment">    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#定义定时任务的调度时间</span></span><br><span class="line"><span class="comment">project:</span></span><br><span class="line"><span class="comment">  task:</span></span><br><span class="line"><span class="comment">    cron: &#x27;* */</span><span class="number">5</span> * * * *<span class="string">&#x27;</span></span><br><span class="line"><span class="string">    delay: 180000</span></span><br></pre></td></tr></table></figure>

<h2 id="（7）mysql反向工程生成表"><a href="#（7）mysql反向工程生成表" class="headerlink" title="（7）mysql反向工程生成表"></a>（7）mysql反向工程生成表</h2><p><img src="/../blog_images/dlyk-part2-front-1/image-20240222102505798.png" alt="image-20240222102505798"></p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240222102955294.png" alt="image-20240222102955294"> </p>
<h3 id="注意：Free-Mybatis-plugin-直接在setting-–-plugin-搜索下载就行，然后选中数据库里面的所有表，点击mybatis-generator-，"><a href="#注意：Free-Mybatis-plugin-直接在setting-–-plugin-搜索下载就行，然后选中数据库里面的所有表，点击mybatis-generator-，" class="headerlink" title="注意：Free Mybatis plugin 直接在setting –&gt; plugin 搜索下载就行，然后选中数据库里面的所有表，点击mybatis generator ，"></a>注意：Free <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Mybatis&spm=1001.2101.3001.7020">Mybatis</a> plugin 直接在setting –&gt; plugin 搜索下载就行，然后选中数据库里面的所有表，点击mybatis generator ，</h3><p><img src="/../blog_images/dlyk-part2-front-1/image-20240222120628352.png" alt="image-20240222120628352"></p>
<p>生成结果</p>
<p><img src="/../blog_images/dlyk-part2-front-1/image-20240222120824860.png" alt="image-20240222120824860"></p>
<h2 id="8-加入mapper包的扫描"><a href="#8-加入mapper包的扫描" class="headerlink" title="(8)加入mapper包的扫描"></a>(8)加入mapper包的扫描</h2><p>在<img src="/../blog_images/dlyk-part2-front-1/image-20240222121147528.png" alt="image-20240222121147528"></p>
<p>加入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">//！！！！！！！！！！ 加入这个</span></span><br><span class="line"><span class="meta">@MapperScan(basePackages = &#123;&quot;com.bjpowernode.mapper&quot;&#125;)</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DlykServerApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DlykServerApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>此外 ，由于mapper的xml（sql语句文件）与mapper不在一个文件夹下面，所以需要指定一下，在application.yml中指定</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mybatis:</span><br><span class="line">  mapper-locations: classpath:mapper/*.xml</span><br><span class="line">  configuration:</span><br><span class="line">    #??????sql??</span><br><span class="line">    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/02/18/dlyk-part1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lolo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Loloooo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Loloooo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/18/dlyk-part1/" class="post-title-link" itemprop="url">dlyk_part1</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-02-18 02:11:13" itemprop="dateCreated datePublished" datetime="2024-02-18T02:11:13+08:00">2024-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-02-21 15:25:09" itemprop="dateModified" datetime="2024-02-21T15:25:09+08:00">2024-02-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">Java项目</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java%E9%A1%B9%E7%9B%AE/%E5%8A%A8%E5%8A%9B%E4%BA%91%E5%AE%A2/" itemprop="url" rel="index"><span itemprop="name">动力云客</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一、技术的版本控制"><a href="#一、技术的版本控制" class="headerlink" title="一、技术的版本控制"></a>一、技术的版本控制</h1><p><img src="/../blog_images/dlyk-part1/image-20240218015738084.png" alt="image-20240218015738084"></p>
<p><img src="/../blog_images/dlyk-part1/image-20240218015750388.png" alt="image-20240218015750388"></p>
<p><img src="/../blog_images/dlyk-part1/image-20240221152352894.png" alt="image-20240221152352894"></p>
<p><img src="/../blog_images/dlyk-part1/image-20240221152403852.png" alt="image-20240221152403852"></p>
<p><img src="/../blog_images/dlyk-part1/image-20240221152414970.png" alt="image-20240221152414970"></p>
<p><img src="/../blog_images/dlyk-part1/image-20240221152423433.png" alt="image-20240221152423433"></p>
<h1 id="二、动力云客的项目概述"><a href="#二、动力云客的项目概述" class="headerlink" title="二、动力云客的项目概述"></a>二、动力云客的项目概述</h1><p>这个项目就是一个商业的集合营销销售为一体的客户关系管理系统，采用信息化、数字化的方式来进行营销和看客户管理。</p>
<h2 id="1-项目数据库：Mysql一个数据库"><a href="#1-项目数据库：Mysql一个数据库" class="headerlink" title="1.项目数据库：Mysql一个数据库"></a>1.项目数据库：Mysql一个数据库</h2><h2 id="2-前端项目："><a href="#2-前端项目：" class="headerlink" title="2.前端项目："></a>2.前端项目：</h2><p> 这是一个前后端分离的项目 （前端vue–&gt;（ajax axios） http请求–&gt;后端项目（spring boot）</p>
<p> （1） node.js是一个开源的跨平台的JavaScript运行时环境，类似java的jvm</p>
<p> （2） npm JavaScript依赖包管理器 ，全世界都可以用这个来共享javascript包，负责前端项目的打包，插件的下载 node package manager </p>
<p> （3）Vite 是快速构建前端Vue项目的脚手架，可以理解为开发Spring boot的Spring initializr的快速构建工具。（之前是用vue-cil的）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vite@latest//</span><br></pre></td></tr></table></figure>

<h1 id="三、启动之前的项目"><a href="#三、启动之前的项目" class="headerlink" title="三、启动之前的项目"></a>三、启动之前的项目</h1><p>用的是jdk17 ；</p>
<p>前端跑起来需要进入package.json 在scripts 处 跑dev</p>
<h2 id="1-admin的密码"><a href="#1-admin的密码" class="headerlink" title="1. admin的密码"></a>1. admin的密码</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> t_user</span><br><span class="line"><span class="keyword">SET</span> login_pwd <span class="operator">=</span> <span class="string">&#x27;$2a$10$t1ZZqt3jgYNabcSS1NMZ/uqGALlCF/VH5wSL3CYduABGeVvKFVEi6&#x27;</span>  <span class="comment">-- 这里替换为新密码的哈希值</span></span><br><span class="line"><span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>哈希代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.password.PasswordEncoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PasswordEncoderExample</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建 BCryptPasswordEncoder</span></span><br><span class="line">        <span class="type">PasswordEncoder</span> <span class="variable">encoder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BCryptPasswordEncoder</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 编码密码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rawPassword</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedPassword</span> <span class="operator">=</span> encoder.encode(rawPassword);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 打印编码后的密码</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Encoded Password: &quot;</span> + encodedPassword);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-端口"><a href="#2-端口" class="headerlink" title="2. 端口"></a>2. 端口</h2><p>前端的端口：8080 在vite.config.js中修改</p>
<p>后端的端口：8088 在application.yml中修改</p>
<p><img src="/../blog_images/dlyk-part1/image-20240218232659713.png" alt="image-20240218232659713"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/02/18/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lolo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Loloooo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Loloooo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/18/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-02-18 00:54:17" itemprop="dateCreated datePublished" datetime="2024-02-18T00:54:17+08:00">2024-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-02-23 19:29:33" itemprop="dateModified" datetime="2024-02-23T19:29:33+08:00">2024-02-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Java-基础部分"><a href="#Java-基础部分" class="headerlink" title="Java 基础部分"></a>Java 基础部分</h1><h2 id="P18"><a href="#P18" class="headerlink" title="P18"></a>P18</h2><h3 id="一、基础知识细节"><a href="#一、基础知识细节" class="headerlink" title="一、基础知识细节"></a>一、基础知识细节</h3><ol>
<li><p>编译java代码 ： javac HelloWorld.java</p>
</li>
<li><p>main方法是JVM规定的，程序就是从这个位置执行的，程序的入口</p>
</li>
<li><p>public class 和class的区别</p>
</li>
</ol>
<h2 id="P19-public-class和class的区别"><a href="#P19-public-class和class的区别" class="headerlink" title="P19 public class和class的区别"></a>P19 public class和class的区别</h2><ol>
<li><p>一个java源文件中可以生成多个源文件 ；</p>
</li>
<li><p>编译后，一个class对应生成一个class字节码文件</p>
</li>
</ol>
<img src="../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223111209337.png" alt="image-20240223111209337" style="zoom:50%;" />

<ol start="3">
<li><p>如果一个类是public的，那么这个类名要和文件名保持一致，如果不一致就会报错。</p>
</li>
<li><p>一个java文件里，public class可以没有，如果有也只能有一个。</p>
</li>
<li><p>每个类里面都可以写入口main函数 ，执行只需要 java 类名</p>
<blockquote>
<p>在实际的开发中，入口只能有一个</p>
</blockquote>
</li>
</ol>
<img src="../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223111722726.png" alt="image-20240223111722726" style="zoom:50%;" />

<h2 id="JAVA基础语法"><a href="#JAVA基础语法" class="headerlink" title="JAVA基础语法"></a>JAVA基础语法</h2><h3 id="一、标识符"><a href="#一、标识符" class="headerlink" title="一、标识符"></a>一、标识符</h3><blockquote>
<p>凡是有权利自己起名的都是标识符，比如类名等</p>
</blockquote>
<p>①在Java中，标识符是用来给变量、方法、类和包等命名的字符序列。</p>
<p>②标识符的长度没有限制，但是建议使用有意义的、简洁的标识符，以提高代码的可读性和可维护性。</p>
<h4 id="标识符可以标识什么"><a href="#标识符可以标识什么" class="headerlink" title="标识符可以标识什么"></a><strong>标识符可以标识什么</strong></h4><p>①变量名</p>
<p>②方法名</p>
<p>③类名、接口名、枚举名、注解名</p>
<p>④包名</p>
<p>⑤常量名</p>
<p>⑥……</p>
<h4 id="标识符命名规则"><a href="#标识符命名规则" class="headerlink" title="标识符命名规则"></a>标识符命名规则</h4><p>①标识符可以由字母、数字、下划线(_)和美元符号($)组成，不能含有其他符号。（java支持全球所有语言，所以这里的 字母 指的是任何一个国家的文字都可以）</p>
<p>②标识符不能以数字开头。</p>
<p>③标识符不能是Java中的关键字，如public、class、void等。</p>
<p>④标识符是区分大小写的，即Foo和foo是两个不同的标识符。</p>
<p>⑤标识符的长度没有限制，但是Java建议使用有意义的、简短的标识符。</p>
<h4 id="标识符命名规范"><a href="#标识符命名规范" class="headerlink" title="标识符命名规范"></a><strong>标识符命名规范</strong></h4><p>①见名知意</p>
<p>②驼峰式命名方式</p>
<p>③类名、接口名、枚举、注解：首字母大写，后面每个单词首字母大写。（StudentService，UserService）</p>
<p>④变量名和方法名：首字母小写，后面每个单词首字母大写。（doSome，doOther）</p>
<p>⑤常量名：全部大写，每个单词用下划线连接。（LOGIN_SUCCESS，SYSTEM_ERROR）</p>
<p>⑥包名：全部小写    </p>
<h3 id="二、关键字"><a href="#二、关键字" class="headerlink" title="二、关键字"></a>二、关键字</h3><blockquote>
<p>Java关键字是Java编程语言中预定义的具有特殊含义的单词，这些单词不能被用作标识符，而是在语法中有特定的用法和限制。</p>
</blockquote>
<h4 id="Java关键字有哪些"><a href="#Java关键字有哪些" class="headerlink" title="Java关键字有哪些"></a>Java关键字有哪些</h4><p>①Java关键字都是小写的。</p>
<p>②abstract, assert, boolean, break, byte, case, catch, char, class, continue, default, do, double, else, enum, extends, final, finally, float, for, if, implements, import, instanceof, int, interface, long, native, new, package, private, protected, public, return, short, static, strictfp, super, switch, synchronized, this, throw, throws, transient, try, void, volatile, while（50）</p>
<p>③Java保留字：goto，const(虽然没有在java中用到，但是不能用)</p>
<h3 id="三、字面量"><a href="#三、字面量" class="headerlink" title="三、字面量"></a>三、字面量</h3><blockquote>
<p>①字面量指的是在程序中直接使用的数据，字面量是Java中最基本的表达式，不需要进行计算或转换，直接使用即可。</p>
<p>就是数据</p>
</blockquote>
<h4 id="Java中有哪些字面量"><a href="#Java中有哪些字面量" class="headerlink" title="Java中有哪些字面量"></a>Java中有哪些字面量</h4><p>①整数型：10、-5、0、100</p>
<p>②浮点型：3.14、-0.5、1.0</p>
<p>③布尔型：true、false</p>
<p>④字符型：’a’、’b’、’c’、’1’、’2’、’国’</p>
<p>⑤字符串型：”Hello”、”World”、”Java”、”你好呀”</p>
<h4 id="加号运算符"><a href="#加号运算符" class="headerlink" title="加号运算符 +"></a>加号运算符 +</h4><p>①作用1：求和（当加号两边都是数字时进行求和运算）</p>
<p>②作用2：字符串拼接（当加号&#x3D;&#x3D;两边有任意一边是字符串类型&#x3D;&#x3D;时会进行字符串拼接，结果还是一个字符串）</p>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223113100144.png" alt="image-20240223113100144"></p>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223113232992.png" alt="image-20240223113232992"></p>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223113303115.png" alt="image-20240223113303115"></p>
<h3 id="四、变量"><a href="#四、变量" class="headerlink" title="四、变量"></a>四、变量</h3><p><strong>①变量是内存当中的一块空间。是计算机中存储数据最基本的单元。</strong></p>
<p><strong>②变量三要素：</strong></p>
<ul>
<li>l数据类型（决定空间大小）【int, double, String】</li>
<li>l变量名（只要是合法的标识符即可）</li>
<li>l变量值（变量中具体存储的数据）</li>
</ul>
<p><strong>③变量的声明、赋值、访问</strong></p>
<ul>
<li>lint i; &#x2F;&#x2F; 声明一个整数型的变量，起名i</li>
<li>li &#x3D; 100; &#x2F;&#x2F; 给变量i赋值100</li>
<li>lSystem.out.println(i); &#x2F;&#x2F; 访问i变量：读操作</li>
<li>li &#x3D; 200; &#x2F;&#x2F; 访问i变量：改操作【给变量i重新赋值200】</li>
</ul>
<p>生命周期就是从内存开辟到内存释放</p>
<h4 id="变量分类"><a href="#变量分类" class="headerlink" title="变量分类"></a>变量分类</h4><p><strong>①局部变量</strong></p>
<p>在方法体里面定义的变量</p>
<p><strong>②成员变量</strong></p>
<p>在类里面，不是在方法体里面定义的；</p>
<p>&#x3D;&#x3D;对于成员变量来说，如果没有手动赋值，系统会自动赋默认值。&#x3D;&#x3D;0.false，null</p>
<ol>
<li><p>静态变量</p>
<p>​	&#x2F;&#x2F;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="type">int</span> a；</span><br></pre></td></tr></table></figure>
</li>
<li><p>实例变量</p>
</li>
</ol>
<h3 id="五、数据类型"><a href="#五、数据类型" class="headerlink" title="五、数据类型"></a>五、数据类型</h3><p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223124717592.png" alt="image-20240223124717592"></p>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223124824008.png" alt="image-20240223124824008"></p>
<p>关于默认值：Java语言中变量必须先声明，再赋值，才能使用。对于局部变量来说必须手动赋值，而对于成员变量来说，如果没有手动赋值，系统会自动赋默认值。</p>
<h4 id="1-整数型详解"><a href="#1-整数型详解" class="headerlink" title="1.整数型详解"></a>1.整数型详解</h4><ol>
<li>整数型字面量一般默认是int，所以在定义long的时候，需要在字面量的后面加上“L&#x2F;l”</li>
</ol>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223125508845.png" alt="image-20240223125508845"></p>
<h4 id="2-自动类型转换"><a href="#2-自动类型转换" class="headerlink" title="2.自动类型转换"></a>2.自动类型转换</h4><p>小容量的可以转大的，在Java中，对于基本数据类型来说，<strong>小容量是可以直接赋值给大容量的，这被称为自动类型转换。</strong></p>
<p><strong>&#x3D;&#x3D;<em>byte &lt; short &lt; int &lt; long &lt; float &lt; double</em>&#x3D;&#x3D;</strong></p>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223134152096.png" alt="image-20240223134152096"></p>
<h4 id="3-强制类型转换"><a href="#3-强制类型转换" class="headerlink" title="3.强制类型转换"></a>3.强制类型转换</h4><blockquote>
<p>需要大容量转小容量</p>
</blockquote>
<p><strong>①Java中大容量是无法直接转换成小容量的。</strong>因为这种操作可能会导致精度损失，所以这种行为交给了程序员来决定，当然这种后果自然是程序员自己去承担。因此在代码中需要程序员自己亲手加上强制类型转换符，程序才能编译通过</p>
<p><strong>②强制类型转换时，底层二进制是如何变化的？原则：砍掉左侧多余的二进制。</strong></p>
<p><strong>③强制类型转换时，精度可能会损失，也可能不会损失，这要看具体的数据是否真正的超出了强转后的类型的取值范围</strong>。如下图：水可能溢出，也可能不会溢出，这要看真实存放的水有多少</p>
<p>④请推算结果：byte b &#x3D; (byte)150;</p>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223134219863.png" alt="image-20240223134219863"></p>
<h4 id="4-byte"><a href="#4-byte" class="headerlink" title="4.byte"></a>4.byte</h4><p><strong>当整数字面量没有超出byte的范围</strong></p>
<p><strong>①在Java中有这样一个规定，</strong>&#x3D;&#x3D;当整数型字面量没有超出byte的范围：可以直接赋值给byte类型的变量。&#x3D;&#x3D;</p>
<p><strong>byte b &#x3D; 127</strong>; &#x2F;&#x2F; 这是允许的</p>
<p>很显然，这是一种编译优化。同时也是为了方便程序员写代码。</p>
<p><strong>②如果超出了范围</strong>，例如：</p>
<p>byte b &#x3D; 128; &#x2F;&#x2F; 编译报错</p>
<p>这样就会报错，需要做强制类型转换，例如：</p>
<p>byte b &#x3D; (byte)128;</p>
<p>它的执行结果你知道吗？可以尝试推算一下</p>
<p><strong>③在整数类型中，除了byte有这个待遇之外，short同样也是支持的。</strong>也就是说：如果整数型字面量没有超出short取值范围时，也是支持直接赋值的。</p>
<h4 id="5-数据类型运算"><a href="#5-数据类型运算" class="headerlink" title="5.数据类型运算"></a>5.数据类型运算</h4><p><strong>两个int类型做运算：</strong>两个int类型的数据做运算，最终的结果还是int类型</p>
<p><strong>多种数据类型混合运算：</strong></p>
<h5 id="a-在Java中，多种数据类型混合运算时，各自先转换成容量最大的类型，再做运算"><a href="#a-在Java中，多种数据类型混合运算时，各自先转换成容量最大的类型，再做运算" class="headerlink" title="a.在Java中，多种数据类型混合运算时，各自先转换成容量最大的类型，再做运算"></a>a.在Java中，多种数据类型混合运算时，各自先转换成容量最大的类型，再做运算</h5><p>byte a &#x3D; 100;</p>
<p>int b &#x3D; 200;</p>
<p>long c &#x3D; 300L;</p>
<p>long d &#x3D; a + b + c;</p>
<p>你可以测试一下，如果d变量是int类型则编译器会报错</p>
<h5 id="b-byte和short混合运算（byte-byte、short-short）的时候，各自先转换成int再做运算，最后的结果是int，不能用short"><a href="#b-byte和short混合运算（byte-byte、short-short）的时候，各自先转换成int再做运算，最后的结果是int，不能用short" class="headerlink" title="b.byte和short混合运算（byte+byte、short+short）的时候，各自先转换成int再做运算，最后的结果是int，不能用short"></a>b.byte和short混合运算（byte+byte、short+short）的时候，各自先转换成int再做运算，最后的结果是int，不能用short</h5><h5 id="c-byte-a-10-3-这个是在编译的时候就得到结果了"><a href="#c-byte-a-10-3-这个是在编译的时候就得到结果了" class="headerlink" title="c.byte a  &#x3D; 10&#x2F;3 ,这个是在编译的时候就得到结果了"></a>c.byte a  &#x3D; 10&#x2F;3 ,这个是在编译的时候就得到结果了</h5><p>编译后的class文件中直接就是byte a &#x3D; 3</p>
<h5 id="d-byte-a-10-byte-b-3-byte-c-a-b-这个是运行的时候才得到结果的。"><a href="#d-byte-a-10-byte-b-3-byte-c-a-b-这个是运行的时候才得到结果的。" class="headerlink" title="d.byte a &#x3D; 10; byte b &#x3D; 3; byte c &#x3D; a&#x2F;b 这个是运行的时候才得到结果的。"></a>d.byte a &#x3D; 10; byte b &#x3D; 3; byte c &#x3D; a&#x2F;b 这个是运行的时候才得到结果的。</h5><p>编译的阶段只能知道a&#x2F;b的结果是int类型，不知道最后的结果是多少。</p>
<h3 id="6-浮点型"><a href="#6-浮点型" class="headerlink" title="6.浮点型"></a>6.浮点型</h3><p><strong>浮点型字面量默认被当做double</strong></p>
<h4 id="①Java中，浮点型字面量默认被当做double类型，如果要当做float类型，需要在数字后面添加-F-或-f。"><a href="#①Java中，浮点型字面量默认被当做double类型，如果要当做float类型，需要在数字后面添加-F-或-f。" class="headerlink" title="①Java中，浮点型字面量默认被当做double类型，如果要当做float类型，需要在数字后面添加 F 或 f。"></a><strong>①Java中，浮点型字面量默认被当做double类型</strong>，如果要当做float类型，需要在数字后面添加 F 或 f。</h4><p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223142425166.png" alt="image-20240223142425166"></p>
<p>&#x3D;&#x3D;float f &#x3D; 3.0; &#x2F;&#x2F; 编译报错&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;报错原因是：3.0默认被当做double类型，大容量无法直接赋值给小容量。如何修改：&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;float f &#x3D; 3.0F;&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;float f &#x3D; （double）3.14;&#x3D;&#x3D;这个是强制类型转换</p>
<h4 id="②另外，可以通过以下程序的输出结果看到，double精度高于float："><a href="#②另外，可以通过以下程序的输出结果看到，double精度高于float：" class="headerlink" title="②另外，可以通过以下程序的输出结果看到，double精度高于float："></a><strong>②另外，可以通过以下程序的输出结果看到，double精度高于float：</strong></h4><p>double d &#x3D; 1.5656856894;</p>
<p>System.out.println(d);</p>
<p>float f &#x3D; 1.5656856894F;</p>
<p>System.out.println(f);</p>
<h4 id="③浮点型数据两种表示形式"><a href="#③浮点型数据两种表示形式" class="headerlink" title="③浮点型数据两种表示形式"></a>③浮点型数据两种表示形式</h4><p> <strong>第一种形式：十进制</strong></p>
<p>double x &#x3D; 1.23;</p>
<p>double y &#x3D; 0.23;</p>
<p>double z &#x3D; .23;</p>
<p> <strong>第二种形式：科学计数法</strong></p>
<p>double x &#x3D; 0.123E2; &#x2F;&#x2F; 0.123 * 10的平方</p>
<p>double y &#x3D; 123.34E-2; &#x2F;&#x2F; 123.34 &#x2F; 10的平方</p>
<h4 id="⑤浮点型数据存储原理"><a href="#⑤浮点型数据存储原理" class="headerlink" title="⑤浮点型数据存储原理"></a>⑤<strong>浮点型数据存储原理</strong></h4><blockquote>
<p>①符号位：0表示整数。1表示负数。</p>
<p>②指数位：比如小数0.123E30，其中30就是指数。表示0.123 * 10的30次幂。所以也有把指数位叫做偏移量的。最大偏移量127。</p>
<p>③尾数位：浮点数的小数部分的有效数字。例如：0.00123，那么尾数位存储123对应的二进制。</p>
<p>④从浮点型数据存储原理上可以看到，二进制中的指数位决定了数字呈指数级增大。因此float虽然是4个字节，但却可以表示比long更大的数值。因此float容量比long的容量大。</p>
</blockquote>
<p><img src="/../blog_images/Java%20%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/image-20240223142930629.png" alt="image-20240223142930629"></p>
<p>①一旦有浮点型数据参与运算得出的结果，一定不要使用“&#x3D;&#x3D;”与其它数字进行“相等比较”</p>
<blockquote>
<p>浮点型数据在计算机底层计算的是近似值，</p>
</blockquote>
<h3 id="7-字符型"><a href="#7-字符型" class="headerlink" title="7.字符型"></a>7.字符型</h3><p>①占用两个字节，0~65535，和short容量相同，但char可以取更大的整数</p>
<p>②单个字符，使用单引号括起来，不能是多个字符</p>
<p>③可以保存一个汉字                       </p>
<p>④char c &#x3D; ‘’; 这是不允许的</p>
<p>⑤char c &#x3D; ‘\u0000’; 这表示一个空字符，也是char的默认值。\u0000是一个Unicode码。</p>
<p>⑥空字符与空格字符是不同的。空字符表示什么也没有。空格字符表示一个空格。****</p>
<h4 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h4><p>乱码产生的原因在于，在编码和解码的时候没有用同一个码表</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/02/18/20240217%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A31/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lolo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Loloooo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Loloooo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/18/20240217%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A31/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-02-18 00:54:17 / 修改时间：02:06:50" itemprop="dateCreated datePublished" datetime="2024-02-18T00:54:17+08:00">2024-02-18</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一、技术的版本控制"><a href="#一、技术的版本控制" class="headerlink" title="一、技术的版本控制"></a>一、技术的版本控制</h1><p><img src="/../blog_images/20240217%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A31/image-20240218015738084.png" alt="image-20240218015738084"></p>
<p><img src="/../blog_images/20240217%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A31/image-20240218015750388.png" alt="image-20240218015750388"></p>
<h1 id="二、动力云客的项目概述"><a href="#二、动力云客的项目概述" class="headerlink" title="二、动力云客的项目概述"></a>二、动力云客的项目概述</h1><p>这个项目就是一个商业的集合营销销售为一体的客户关系管理系统，采用信息化、数字化的方式来进行营销和看客户管理。</p>
<h2 id="1-项目数据库：Mysql一个数据库"><a href="#1-项目数据库：Mysql一个数据库" class="headerlink" title="1.项目数据库：Mysql一个数据库"></a>1.项目数据库：Mysql一个数据库</h2><h2 id="2-前端项目："><a href="#2-前端项目：" class="headerlink" title="2.前端项目："></a>2.前端项目：</h2><p> 这是一个前后端分离的项目 （前端vue–&gt;（ajax axios） http请求–&gt;后端项目（spring boot）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">lolo</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
